\mode<presentation>

% Requirement
\RequirePackage{tikz}

% make it compress to show the navigation bars
\beamer@compresstrue

% Settings
\usecolortheme{udp}
\useoutertheme[subsection=false]{udpsmoothinfo}
\useinnertheme{udp}

% my package with several short hands
% declare after all the other color declarations
\RequirePackage{beamertools}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=true]  

% define the class name
\RequirePackage{etoolbox}
\def\@coursecode{}
\def\@coursename{}
\newcommand{\course}[2][]{\ifstrempty{#1}{\def\@coursecode{}}{\def\@coursecode{#1}}\def\@coursename{#2}}
\newcommand{\insertcoursecode}{\@coursecode}
\newcommand{\insertcoursename}{\@coursename}

%fix the title page navigation bar
\let\oldtitlepage\titlepage
\renewcommand{\titlepage}{%
  \addtocounter{framenumber}{-1}%ensure that title page has 0 number
  \oldtitlepage%
}

% Patches beamer so that "subsections numbered 0" show their slide entries.
% Solution: http://tex.stackexchange.com/questions/2072/beamer-navigation-circles-without-subsections
\patchcmd{\slideentry}{\ifnum#2>0}{\ifnum#1>0}{}{\@error{unable to patch}}%  require section number to be strictly positive

% Fonts profesionales (nice math mode)
\usefonttheme{professionalfonts}

% Establece los colores
% http://tex.stackexchange.com/a/13424/7561
\hypersetup{colorlinks,linkcolor=,urlcolor=orange}

\mode<all>