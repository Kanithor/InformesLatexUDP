% Useful definitions for coding

\def\fileversion{1.0}
\def\filedate{2014/03/07}

\typeout{Package: `codetools' \fileversion\space <\filedate>}
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{codetools}[\filedate\space\fileversion]

\RequirePackage{listings}
\RequirePackage{color}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codemauve}{rgb}{0.58,0,0.82}
\definecolor{codered}{rgb}{0.6,0,0} % for strings

\lstset{
  basicstyle=\footnotesize\ttfamily,
  showstringspaces=false,          % do not emphasize spaces in strings
  breaklines=true,                 % automatic line breaking only at whitespace
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{codegreen},    % comment style
  escapeinside={@*}{*@},          % if you want to add LaTeX within your code
  keywordstyle=\bf\color{blue},       % keyword style
  stringstyle=\color{codered},     % string literal style
  % additional letters
  literate=%
    {á}{{\'{a}}}1
    {é}{{\'{e}}}1
    {í}{{\'{i}}}1
    {ó}{{\'{o}}}1
    {ú}{{\'{u}}}1
    {ñ}{{\~{n}}}1
    {Ñ}{{\~{N}}}1
}
% bold in monospaced font
\DeclareFontShape{OT1}{cmtt}{bx}{n}{<5><6><7><8><9><10><10.95><12><14.4><17.28><20.74><24.88>cmttb10}{}

% ++ (plus plus) sign for diferent languages
% create a more "suitable" plus plus sign
\RequirePackage{relsize}
\RequirePackage{xspace}
\DeclareRobustCommand{\plusplus}{\nolinebreak[4]\hspace{-.05em}\raisebox{.4ex}{\relsize{-3}{\textbf{++}}}\xspace}
\pdfstringdefDisableCommands{%
  \def\plusplus{++}%
}

% patch lstinputlistings to use a defined path
% see: http://tex.stackexchange.com/questions/167640/is-there-a-an-equivalent-to-graphicspath-for-listings-otherwise-how-do-i-defi/167647#167647
\newcommand\lstinputpath[1]{\gdef\@listingpath{#1}}  % macro for declaring the path
                                                     % (very similar to the \title macro)

\let\oldlstinputlisting\lstinputlisting    % save \lstinputlisting for its redefinition
\renewcommand\lstinputlisting[2][]         % redefinition of \lstinputlisting
{%
  \oldlstinputlisting[#1]{\@listingpath#2}%
}